# Claude Code Mobile Relay - Session Notes

## Project Status: FUNCTIONAL
Built a complete iPhone-to-PC Claude Code relay system.

## What's Built

### Core Components
- **Relay Server** (`server/index.js`) - HTTPS + WebSocket, multi-tab support, session broker
- **Session Launcher** (`server/launcher.js`) - Spawns Claude in PTY with named pipe
- **Attach Wrapper** (`server/attach.js`) - Wraps commands for relay access
- **Web Client** (`client/web/`) - Chrome-like tabs, xterm.js terminal, mobile-optimized

### Running Processes
- Relay server on port 3000 (background task b95ccd9)
- Two launcher sessions: gboperator, iphone-bridge (tasks b72a441, b695c14)

### Key Files
```
server/
├── index.js      # Main relay server
├── launcher.js   # Start new managed sessions
├── attach.js     # Wrap existing terminal commands
├── config.js     # Auth token, ports
└── package.json  # Dependencies: node-pty, ws

client/web/
├── index.html    # Tab bar + session picker
├── app.js        # Multi-terminal WebSocket client
└── style.css     # Chrome-like tabs styling

certs/
├── key.pem       # Self-signed SSL cert
└── cert.pem
```

## Connection Info
- URL: https://192.168.1.204:3000/?token=change-this-secret-token
- Sessions registered in: ~/.claude-relay/sessions/

## Current Task
Test `attach.js` with a new session to verify the wrapper works.

## Resume Instructions
Run in ultrathink mode. Test attach.js:
```bash
cd "C:\Users\mtoli\Documents\Code\iphone bridge\server"
node attach.js test-session claude
```
Verify it registers and is accessible from the relay.
